#include "gfx906_metrics.xml"
#include "gfx908_metrics.xml"
#include "gfx90a_metrics.xml"

<gfx8_expr>
  <metric name="TA_BUSY_avr" expr=avr(TA_TA_BUSY,16) descr="TA block is busy. Average over TA instances."></metric>
  <metric name="TA_BUSY_max" expr=max(TA_TA_BUSY,16) descr="TA block is busy. Max over TA instances."></metric>
  <metric name="TA_BUSY_min" expr=min(TA_TA_BUSY,16) descr="TA block is busy. Min over TA instances."></metric>
  <metric name="TA_FLAT_READ_WAVEFRONTS_sum" expr=sum(TA_FLAT_READ_WAVEFRONTS,16) descr="Number of flat opcode reads processed by the TA. Sum over TA instances."></metric>
  <metric name="TA_FLAT_WRITE_WAVEFRONTS_sum" expr=sum(TA_FLAT_WRITE_WAVEFRONTS,16) descr="Number of flat opcode writes processed by the TA. Sum over TA instances."></metric>

  <metric name="TCC_BUSY_avr" expr=avr(TCC_BUSY,16) descr="TCC_BUSY avr over all memory channels."></metric>
  <metric name="TCC_REQ_sum" expr=sum(TCC_REQ,16) descr="TCC_REQ sum over all memory channels."></metric>
  <metric name="TCC_HIT_sum" expr=sum(TCC_HIT,16) descr="Number of cache hits. Sum over TCC instances."></metric>
  <metric name="TCC_MISS_sum" expr=sum(TCC_MISS,16) descr="Number of cache misses. Sum over TCC instances."></metric>
  <metric name="TCC_MC_RDREQ_sum" expr=sum(TCC_MC_RDREQ,16) descr="Number of 32-byte reads. Sum over TCC instaces."></metric>
  <metric name="TCC_MC_WRREQ_sum" expr=sum(TCC_MC_WRREQ,16) descr="Number of 32-byte transactions going over the TC_MC_wrreq interface. Sum over TCC instaces."></metric>
  <metric name="TCC_WRREQ_STALL_max" expr=max(TCC_MC_WRREQ_STALL,16) descr="Number of cycles a write request was stalled. Max over TCC instances."></metric>

  <metric name="FETCH_SIZE" expr=(TCC_MC_RDREQ_sum*32)/1024 descr="The total kilobytes fetched from the video memory. This is measured with all extra fetches and any cache or memory effects taken into account."></metric>
  <metric name="WRITE_SIZE" expr=(TCC_MC_WRREQ_sum*32)/1024 descr="The total kilobytes written to the video memory. This is measured with all extra fetches and any cache or memory effects taken into account."></metric>
  <metric name="WRITE_REQ_32B" expr=TCC_MC_WRREQ_sum descr="The total number of 32-byte effective memory writes."></metric>
</gfx8_expr>

<gfx9_expr>
  <metric name="TA_BUSY_avr" expr=avr(TA_TA_BUSY,16) descr="TA block is busy. Average over TA instances."></metric>
  <metric name="TA_BUSY_max" expr=max(TA_TA_BUSY,16) descr="TA block is busy. Max over TA instances."></metric>
  <metric name="TA_BUSY_min" expr=min(TA_TA_BUSY,16) descr="TA block is busy. Min over TA instances."></metric>
  <metric name="TA_FLAT_READ_WAVEFRONTS_sum" expr=sum(TA_FLAT_READ_WAVEFRONTS,16) descr="Number of flat opcode reads processed by the TA. Sum over TA instances."></metric>
  <metric name="TA_FLAT_WRITE_WAVEFRONTS_sum" expr=sum(TA_FLAT_WRITE_WAVEFRONTS,16) descr="Number of flat opcode writes processed by the TA. Sum over TA instances."></metric>

  <metric name="TCC_BUSY_avr" expr=avr(TCC_BUSY,16) descr="TCC_BUSY avr over all memory channels."></metric>
  <metric name="TCC_REQ_sum" expr=sum(TCC_REQ,16) descr="TCC_REQ sum over all memory channels."></metric>
  <metric name="TCC_HIT_sum" expr=sum(TCC_HIT,16) descr="Number of cache hits. Sum over TCC instances."></metric>
  <metric name="TCC_MISS_sum" expr=sum(TCC_MISS,16) descr="Number of cache misses. Sum over TCC instances."></metric>
  <metric name="TCC_EA_RDREQ_32B_sum" expr=sum(TCC_EA_RDREQ_32B,16) descr="Number of 32-byte TCC/EA read requests. Sum over TCC instances."></metric>
  <metric name="TCC_EA_RDREQ_sum" expr=sum(TCC_EA_RDREQ,16) descr="Number of TCC/EA read requests (either 32-byte or 64-byte). Sum over TCC instances."></metric>
  <metric name="TCC_EA_WRREQ_sum" expr=sum(TCC_EA_WRREQ,16) descr="Number of transactions (either 32-byte or 64-byte) going over the TC_EA_wrreq interface. Sum over TCC instances."></metric>
  <metric name="TCC_EA_WRREQ_64B_sum" expr=sum(TCC_EA_WRREQ_64B,16) descr="Number of 64-byte transactions going (64-byte write or CMPSWAP) over the TC_EA_wrreq interface. Sum over TCC instances."></metric>
  <metric name="TCC_WRREQ_STALL_max" expr=max(TCC_EA_WRREQ_STALL,16) descr="Number of cycles a write request was stalled. Max over TCC instances."></metric>

  <metric name="FETCH_SIZE" expr=(TCC_EA_RDREQ_32B_sum*32+(TCC_EA_RDREQ_sum-TCC_EA_RDREQ_32B_sum)*64)/1024 descr="The total kilobytes fetched from the video memory. This is measured with all extra fetches and any cache or memory effects taken into account."></metric>
  <metric name="WRITE_SIZE" expr=((TCC_EA_WRREQ_sum-TCC_EA_WRREQ_64B_sum)*32+TCC_EA_WRREQ_64B_sum*64)/1024 descr="The total kilobytes written to the video memory. This is measured with all extra fetches and any cache or memory effects taken into account."></metric>
  <metric name="WRITE_REQ_32B" expr=TCC_EA_WRREQ_64B_sum*2+(TCC_EA_WRREQ_sum-TCC_EA_WRREQ_64B_sum) descr="The total number of 32-byte effective memory writes."></metric>



 #xlu - TA
  <metric name="TA_TA_BUSY_sum"                                        expr=sum(TA_TA_BUSY,16) descr="."></metric>
  <metric name="TA_SH_FIFO_BUSY_sum"                                   expr=sum(TA_SH_FIFO_BUSY,16) descr="."></metric>
  <metric name="TA_SH_FIFO_CMD_BUSY_sum"                               expr=sum(TA_SH_FIFO_CMD_BUSY,16) descr="."></metric>
  <metric name="TA_SH_FIFO_ADDR_BUSY_sum"                              expr=sum(TA_SH_FIFO_ADDR_BUSY,16) descr="."></metric>
  <metric name="TA_SH_FIFO_DATA_BUSY_sum"                              expr=sum(TA_SH_FIFO_DATA_BUSY,16) descr="."></metric>
  <metric name="TA_SH_FIFO_DATA_SFIFO_BUSY_sum"                        expr=sum(TA_SH_FIFO_DATA_SFIFO_BUSY,16) descr="."></metric>
  <metric name="TA_SH_FIFO_DATA_TFIFO_BUSY_sum"                        expr=sum(TA_SH_FIFO_DATA_TFIFO_BUSY,16) descr="."></metric>
  <metric name="TA_SQ_TA_CMD_CYCLES_sum"                               expr=sum(TA_SQ_TA_CMD_CYCLES,16) descr="."></metric>
  <metric name="TA_SP_TA_ADDR_CYCLES_sum"                              expr=sum(TA_SP_TA_ADDR_CYCLES,16) descr="."></metric>
  <metric name="TA_SP_TA_DATA_CYCLES_sum"                              expr=sum(TA_SP_TA_DATA_CYCLES,16) descr="."></metric>
  <metric name="TA_TA_SH_FIFO_STARVED_sum"                             expr=sum(TA_TA_SH_FIFO_STARVED,16) descr="."></metric>
  <metric name="TA_SH_FIFO_ADDR_STARVED_WHILE_BUSY_CYCLES_sum"         expr=sum(TA_SH_FIFO_ADDR_STARVED_WHILE_BUSY_CYCLES,16) descr="."></metric>
  <metric name="TA_SH_FIFO_DATA_STARVED_WHILE_BUSY_CYCLES_sum"         expr=sum(TA_SH_FIFO_DATA_STARVED_WHILE_BUSY_CYCLES,16) descr="."></metric>
  <metric name="TA_SH_FIFO_CMD_STARVED_WHILE_BUSY_CYCLES_sum"          expr=sum(TA_SH_FIFO_CMD_STARVED_WHILE_BUSY_CYCLES,16) descr="."></metric>

  <metric name="TA_TOTAL_WAVEFRONTS_sum"                               expr=sum(TA_TOTAL_WAVEFRONTS,16) descr="."></metric>
  <metric name="TA_ADDR_STALLED_BY_TC_CYCLES_sum"                      expr=sum(TA_ADDR_STALLED_BY_TC_CYCLES,16) descr="."></metric>
  <metric name="TA_ADDR_STALLED_BY_TD_CYCLES_sum"                      expr=sum(TA_ADDR_STALLED_BY_TD_CYCLES,16) descr="."></metric>
  <metric name="TA_DATA_STALLED_BY_TC_CYCLES_sum"                      expr=sum(TA_DATA_STALLED_BY_TC_CYCLES,16) descr="."></metric>



  <metric name="TA_FLAT_WAVEFRONTS_sum"                                expr=sum(TA_FLAT_WAVEFRONTS,16) descr="."></metric>
  <metric name="TA_FLAT_READ_WAVEFRONTS_sum"                           expr=sum(TA_FLAT_READ_WAVEFRONTS,16) descr="."></metric>
  <metric name="TA_FLAT_WRITE_WAVEFRONTS_sum"                          expr=sum(TA_FLAT_WRITE_WAVEFRONTS,16) descr="."></metric>
  <metric name="TA_FLAT_ATOMIC_WAVEFRONTS_sum"                         expr=sum(TA_FLAT_ATOMIC_WAVEFRONTS,16) descr="."></metric>
  <metric name="TA_FLAT_COALESCEABLE_WAVEFRONTS_sum"                   expr=sum(TA_FLAT_COALESCEABLE_WAVEFRONTS,16) descr="."></metric>
      
  <metric name="TA_BUFFER_WAVEFRONTS_sum"                              expr=sum(TA_BUFFER_WAVEFRONTS,16) descr="."></metric>
  <metric name="TA_BUFFER_READ_WAVEFRONTS_sum"                         expr=sum(TA_BUFFER_READ_WAVEFRONTS,16) descr="."></metric>
  <metric name="TA_BUFFER_WRITE_WAVEFRONTS_sum"                        expr=sum(TA_BUFFER_WRITE_WAVEFRONTS,16) descr="."></metric>
  <metric name="TA_BUFFER_ATOMIC_WAVEFRONTS_sum"                       expr=sum(TA_BUFFER_ATOMIC_WAVEFRONTS,16) descr="."></metric>
  <metric name="TA_BUFFER_TOTAL_CYCLES_sum"                            expr=sum(TA_BUFFER_TOTAL_CYCLES,16) descr="."></metric>

  <metric name="TA_BUFFER_COALESCABLE_WAVEFRONTS_sum"                  expr=sum(TA_BUFFER_COALESCABLE_WAVEFRONTS,16) descr="."></metric>
  <metric name="TA_BUFFER_COALESCED_READ_CYCLES_sum"                   expr=sum(TA_BUFFER_COALESCED_READ_CYCLES,16) descr="."></metric>
  <metric name="TA_BUFFER_COALESCED_WRITE_CYCLES_sum"                  expr=sum(TA_BUFFER_COALESCED_WRITE_CYCLES,16) descr="."></metric>

  #xlu -TD
  <metric name="TD_TD_BUSY_sum"                                         expr=sum(TD_TD_BUSY,16) descr="."></metric>
  <metric name="TD_INPUT_BUSY_sum"                                      expr=sum(TD_INPUT_BUSY,16) descr="."></metric>
  <metric name="TD_OUTPUT_BUSY_sum"                                     expr=sum(TD_OUTPUT_BUSY,16) descr="."></metric>
  <metric name="TD_LERP_BUSY_sum"                                       expr=sum(TD_LERP_BUSY,16) descr="."></metric>
  <metric name="TD_TC_TD_FIFO_FULL_sum"                                 expr=sum(TD_TC_TD_FIFO_FULL,16) descr="."></metric>
  <metric name="TD_OUTPUT_FIFO_FULL_sum"                                expr=sum(TD_OUTPUT_FIFO_FULL,16) descr="."></metric>
  <metric name="TD_TC_STALL_sum"                                        expr=sum(TD_TC_STALL,16) descr="."></metric>
  <metric name="TD_PC_STALL_sum"                                        expr=sum(TD_PC_STALL,16) descr="."></metric>
  <metric name="TD_GDS_STALL_sum"                                       expr=sum(TD_GDS_STALL,16) descr="."></metric>
  <metric name="TD_LOAD_WAVEFRONT_sum"                                  expr=sum(TD_LOAD_WAVEFRONT,16) descr="."></metric>
  <metric name="TD_ATOMIC_WAVEFRONT_sum"                                expr=sum(TD_ATOMIC_WAVEFRONT,16) descr="."></metric>
  <metric name="TD_STORE_WAVEFRONT_sum"                                 expr=sum(TD_STORE_WAVEFRONT,16) descr="."></metric>
  <metric name="TD_LDFPTR_WAVEFRONT_sum"                                expr=sum(TD_LDFPTR_WAVEFRONT,16) descr="."></metric>
  <metric name="TD_D16_EN_WAVEFRONT_sum"                                expr=sum(TD_D16_EN_WAVEFRONT,16) descr="."></metric>
  <metric name="TD_WRITE_ACK_WAVEFRONT_sum"                             expr=sum(TD_WRITE_ACK_WAVEFRONT,16) descr="."></metric>
  <metric name="TD_NACK_sum"                                            expr=sum(TD_NACK,16) descr="."></metric>
  <metric name="TD_TD_SP_TRAFFIC_sum"                                   expr=sum(TD_TD_SP_TRAFFIC,16) descr="."></metric>
  <metric name="TD_CONSUME_GDS_TRAFFIC_sum"                             expr=sum(TD_CONSUME_GDS_TRAFFIC,16) descr="."></metric>
  
  <metric name="TD_COALESCABLE_WAVEFRONT_sum"                             expr=sum(TD_COALESCABLE_WAVEFRONT,16) descr="."></metric>
  <metric name="TD_COALESCED_PHASE_sum"                             expr=sum(TD_COALESCED_PHASE,16) descr="."></metric>

    #xlu -TCP
  <metric name="TCP_GATE_EN1_sum"                                       expr=sum(TCP_GATE_EN1,16) descr="."></metric>
  <metric name="TCP_GATE_EN2_sum"                                       expr=sum(TCP_GATE_EN2,16) descr="."></metric>
  <metric name="TCP_CORE_REG_SCLK_VLD_sum"                              expr=sum(TCP_CORE_REG_SCLK_VLD,16) descr="."></metric>
  <metric name="TCP_TA_TCP_ADDR_STARVE_CYCLES_sum"                      expr=sum(TCP_TA_TCP_ADDR_STARVE_CYCLES,16) descr="."></metric>
  <metric name="TCP_TA_TCP_DATA_STARVE_CYCLES_sum"                      expr=sum(TCP_TA_TCP_DATA_STARVE_CYCLES,16) descr="."></metric>
  <metric name="TCP_TCP_TA_ADDR_STALL_CYCLES_sum"                       expr=sum(TCP_TCP_TA_ADDR_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_TCP_TA_DATA_STALL_CYCLES_sum"                       expr=sum(TCP_TCP_TA_DATA_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_TD_TCP_STALL_CYCLES_sum"                            expr=sum(TCP_TD_TCP_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_TCR_TCP_STALL_CYCLES_sum"                           expr=sum(TCP_TCR_TCP_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_TCP_TCR_STARVE_CYCLES_sum"                          expr=sum(TCP_TCP_TCR_STARVE_CYCLES,16) descr="."></metric>
  <metric name="TCP_LOD_STALL_CYCLES_sum"                               expr=sum(TCP_LOD_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_READ_TAGCONFLICT_STALL_CYCLES_sum"                  expr=sum(TCP_READ_TAGCONFLICT_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_WRITE_TAGCONFLICT_STALL_CYCLES_sum"                 expr=sum(TCP_WRITE_TAGCONFLICT_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_ATOMIC_TAGCONFLICT_STALL_CYCLES_sum"                expr=sum(TCP_ATOMIC_TAGCONFLICT_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_ALLOC_STALL_CYCLES_sum"                             expr=sum(TCP_ALLOC_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_UNORDERED_MTYPE_STALL_sum"                          expr=sum(TCP_UNORDERED_MTYPE_STALL,16) descr="."></metric>
  <metric name="TCP_LFIFO_STALL_CYCLES_sum"                             expr=sum(TCP_LFIFO_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_RFIFO_STALL_CYCLES_sum"                             expr=sum(TCP_RFIFO_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_TCR_RDRET_STALL_sum"                                expr=sum(TCP_TCR_RDRET_STALL,16) descr="."></metric>
  <metric name="TCP_WRITE_CONFLICT_STALL_sum"                           expr=sum(TCP_WRITE_CONFLICT_STALL,16) descr="."></metric>
  <metric name="TCP_HOLE_READ_STALL_sum"                                expr=sum(TCP_HOLE_READ_STALL,16) descr="."></metric>
  <metric name="TCP_READCONFLICT_STALL_CYCLES_sum"                      expr=sum(TCP_READCONFLICT_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_PENDING_STALL_CYCLES_sum"                           expr=sum(TCP_PENDING_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_READFIFO_STALL_CYCLES_sum"                          expr=sum(TCP_READFIFO_STALL_CYCLES,16) descr="."></metric>
  <metric name="TCP_POWER_STALL_sum"                                    expr=sum(TCP_POWER_STALL,16) descr="."></metric>
  <metric name="TCP_UTCL1_SERIALIZATION_STALL_sum"                      expr=sum(TCP_UTCL1_SERIALIZATION_STALL,16) descr="."></metric>
  <metric name="TCP_TC_TA_XNACK_STALL_sum"                              expr=sum(TCP_TC_TA_XNACK_STALL,16) descr="."></metric>
  <metric name="TCP_VOLATILE_sum"                                       expr=sum(TCP_VOLATILE,16) descr="."></metric>
  <metric name="TCP_TOTAL_ACCESSES_sum"                                 expr=sum(TCP_TOTAL_ACCESSES,16) descr="."></metric>
  <metric name="TCP_TOTAL_READ_sum"                                     expr=sum(TCP_TOTAL_READ,16) descr="."></metric>
  <metric name="TCP_TOTAL_NON_READ_sum"                                 expr=sum(TCP_TOTAL_NON_READ,16) descr="."></metric>
  <metric name="TCP_TOTAL_WRITE_sum"                                    expr=sum(TCP_TOTAL_WRITE,16) descr="."></metric>
  <metric name="TCP_TOTAL_HIT_LRU_READ_sum"                             expr=sum(TCP_TOTAL_HIT_LRU_READ,16) descr="."></metric>
  <metric name="TCP_TOTAL_MISS_LRU_READ_sum"                            expr=sum(TCP_TOTAL_MISS_LRU_READ,16) descr="."></metric>
  <metric name="TCP_TOTAL_MISS_EVICT_READ_sum"                          expr=sum(TCP_TOTAL_MISS_EVICT_READ,16) descr="."></metric>
  <metric name="TCP_TOTAL_MISS_LRU_WRITE_sum"                           expr=sum(TCP_TOTAL_MISS_LRU_WRITE,16) descr="."></metric>
  <metric name="TCP_TOTAL_MISS_EVICT_WRITE_sum"                         expr=sum(TCP_TOTAL_MISS_EVICT_WRITE,16) descr="."></metric>
  <metric name="TCP_TOTAL_ATOMIC_WITH_RET_sum"                          expr=sum(TCP_TOTAL_ATOMIC_WITH_RET,16) descr="."></metric>
  <metric name="TCP_TOTAL_ATOMIC_WITHOUT_RET_sum"                       expr=sum(TCP_TOTAL_ATOMIC_WITHOUT_RET,16) descr="."></metric>
  <metric name="TCP_TOTAL_WBINVL1_sum"                                  expr=sum(TCP_TOTAL_WBINVL1,16) descr="."></metric>
  <metric name="TCP_TOTAL_WBINVL1_VOL_sum"                              expr=sum(TCP_TOTAL_WBINVL1_VOL,16) descr="."></metric>
  <metric name="TCP_SQ_TCP_INVALIDATE_VOL_sum"                          expr=sum(TCP_SQ_TCP_INVALIDATE_VOL,16) descr="."></metric>
  <metric name="TCP_CP_TCP_INVALIDATE_sum"                              expr=sum(TCP_CP_TCP_INVALIDATE,16) descr="."></metric>
  <metric name="TCP_CP_TCP_INVALIDATE_VOL_sum"                          expr=sum(TCP_CP_TCP_INVALIDATE_VOL,16) descr="."></metric>
  <metric name="TCP_TOTAL_WRITEBACK_INVALIDATES_sum"                    expr=sum(TCP_TOTAL_WRITEBACK_INVALIDATES,16) descr="."></metric>
  <metric name="TCP_SHOOTDOWN_sum"                                      expr=sum(TCP_SHOOTDOWN,16) descr="."></metric>
  <metric name="TCP_UTCL1_REQUEST_sum"                                  expr=sum(TCP_UTCL1_REQUEST,16) descr="."></metric>
  <metric name="TCP_UTCL1_TRANSLATION_MISS_sum"                         expr=sum(TCP_UTCL1_TRANSLATION_MISS,16) descr="."></metric>
  <metric name="TCP_UTCL1_TRANSLATION_HIT_sum"                          expr=sum(TCP_UTCL1_TRANSLATION_HIT,16) descr="."></metric>
  <metric name="TCP_UTCL1_PERMISSION_MISS_sum"                          expr=sum(TCP_UTCL1_PERMISSION_MISS,16) descr="."></metric>
  <metric name="TCP_UTCL1_STALL_INFLIGHT_MAX_sum"                       expr=sum(TCP_UTCL1_STALL_INFLIGHT_MAX,16) descr="."></metric>
  <metric name="TCP_UTCL1_STALL_LRU_INFLIGHT_sum"                       expr=sum(TCP_UTCL1_STALL_LRU_INFLIGHT,16) descr="."></metric>
  <metric name="TCP_UTCL1_STALL_MULTI_MISS_sum"                         expr=sum(TCP_UTCL1_STALL_MULTI_MISS,16) descr="."></metric>
  <metric name="TCP_UTCL1_LFIFO_FULL_sum"                               expr=sum(TCP_UTCL1_LFIFO_FULL,16) descr="."></metric>
  <metric name="TCP_UTCL1_STALL_LFIFO_NOT_RES_sum"                      expr=sum(TCP_UTCL1_STALL_LFIFO_NOT_RES,16) descr="."></metric>
  <metric name="TCP_UTCL1_STALL_UTCL2_REQ_OUT_OF_CREDITS_sum"           expr=sum(TCP_UTCL1_STALL_UTCL2_REQ_OUT_OF_CREDITS,16) descr="."></metric>
  <metric name="TCP_CLIENT_UTCL1_INFLIGHT_sum"                          expr=sum(TCP_CLIENT_UTCL1_INFLIGHT,16) descr="."></metric>
  <metric name="TCP_UTCL1_UTCL2_INFLIGHT_sum"                           expr=sum(TCP_UTCL1_UTCL2_INFLIGHT,16) descr="."></metric>
  <metric name="TCP_UTCL1_STALL_MISSFIFO_FULL_sum"                      expr=sum(TCP_UTCL1_STALL_MISSFIFO_FULL,16) descr="."></metric>
  <metric name="TCP_TOTAL_CACHE_ACCESSES_sum"                           expr=sum(TCP_TOTAL_CACHE_ACCESSES,16) descr="."></metric>
  <metric name="TCP_TAGRAM0_REQ_sum"                                    expr=sum(TCP_TAGRAM0_REQ,16) descr="."></metric>
  <metric name="TCP_TAGRAM1_REQ_sum"                                    expr=sum(TCP_TAGRAM1_REQ,16) descr="."></metric>
  <metric name="TCP_TAGRAM2_REQ_sum"                                    expr=sum(TCP_TAGRAM2_REQ,16) descr="."></metric>
  <metric name="TCP_TAGRAM3_REQ_sum"                                    expr=sum(TCP_TAGRAM3_REQ,16) descr="."></metric>
  <metric name="TCP_TCP_LATENCY_sum"                                    expr=sum(TCP_TCP_LATENCY,16) descr="."></metric>
  <metric name="TCP_TA_TCP_STATE_READ_sum"                              expr=sum(TCP_TA_TCP_STATE_READ,16) descr="."></metric>
  <metric name="TCP_TCC_READ_REQ_LATENCY_sum"                           expr=sum(TCP_TCC_READ_REQ_LATENCY,16) descr="."></metric>
  <metric name="TCP_TCC_WRITE_REQ_LATENCY_sum"                          expr=sum(TCP_TCC_WRITE_REQ_LATENCY,16) descr="."></metric>
  <metric name="TCP_TCC_WRITE_REQ_HOLE_LATENCY_sum"                     expr=sum(TCP_TCC_WRITE_REQ_HOLE_LATENCY,16) descr="."></metric>
  <metric name="TCP_TCC_READ_REQ_sum"                                   expr=sum(TCP_TCC_READ_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_WRITE_REQ_sum"                                  expr=sum(TCP_TCC_WRITE_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_ATOMIC_WITH_RET_REQ_sum"                        expr=sum(TCP_TCC_ATOMIC_WITH_RET_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_ATOMIC_WITHOUT_RET_REQ_sum"                     expr=sum(TCP_TCC_ATOMIC_WITHOUT_RET_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_LRU_REQ_sum"                                    expr=sum(TCP_TCC_LRU_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_STREAM_REQ_sum"                                 expr=sum(TCP_TCC_STREAM_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_NC_READ_REQ_sum"                                expr=sum(TCP_TCC_NC_READ_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_NC_WRITE_REQ_sum"                               expr=sum(TCP_TCC_NC_WRITE_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_NC_ATOMIC_REQ_sum"                              expr=sum(TCP_TCC_NC_ATOMIC_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_UC_READ_REQ_sum"                                expr=sum(TCP_TCC_UC_READ_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_UC_WRITE_REQ_sum"                               expr=sum(TCP_TCC_UC_WRITE_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_UC_ATOMIC_REQ_sum"                              expr=sum(TCP_TCC_UC_ATOMIC_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_CC_READ_REQ_sum"                                expr=sum(TCP_TCC_CC_READ_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_CC_WRITE_REQ_sum"                               expr=sum(TCP_TCC_CC_WRITE_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_CC_ATOMIC_REQ_sum"                              expr=sum(TCP_TCC_CC_ATOMIC_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_DCC_REQ_sum"                                    expr=sum(TCP_TCC_DCC_REQ,16) descr="."></metric>
  #<metric name="TCP_TCC_RW_READ_REQ_sum"                                expr=sum(TCP_TCC_RW_READ_REQ,16) descr="."></metric>
  #<metric name="TCP_TCC_RW_WRITE_REQ_sum"                               expr=sum(TCP_TCC_RW_WRITE_REQ,16) descr="."></metric>
  #<metric name="TCP_TCC_RW_ATOMIC_REQ_sum"                              expr=sum(TCP_TCC_RW_ATOMIC_REQ,16) descr="."></metric>

</gfx9_expr>

<gfx906_expr base="gfx9_expr">
  # EA1
  <metric name="TCC_EA1_RDREQ_32B_sum" expr=sum(TCC_EA1_RDREQ_32B,16) descr="Number of 32-byte TCC/EA read requests. Sum over TCC EA1s."></metric>
  <metric name="TCC_EA1_RDREQ_sum" expr=sum(TCC_EA1_RDREQ,16) descr="Number of TCC/EA read requests (either 32-byte or 64-byte). Sum over TCC EA1s."></metric>
  <metric name="TCC_EA1_WRREQ_sum" expr=sum(TCC_EA1_WRREQ,16) descr="Number of transactions (either 32-byte or 64-byte) going over the TC_EA_wrreq interface. Sum over TCC EA1s."></metric>
  <metric name="TCC_EA1_WRREQ_64B_sum" expr=sum(TCC_EA1_WRREQ_64B,16) descr="Number of 64-byte transactions going (64-byte write or CMPSWAP) over the TC_EA_wrreq interface. Sum over TCC EA1s."></metric>
  <metric name="TCC_WRREQ1_STALL_max" expr=max(TCC_EA1_WRREQ_STALL,16) descr="Number of cycles a write request was stalled. Max over TCC instances."></metric>

  <metric name="RDATA1_SIZE" expr=(TCC_EA1_RDREQ_32B_sum*32+(TCC_EA1_RDREQ_sum-TCC_EA1_RDREQ_32B_sum)*64) descr="The total kilobytes fetched from the video memory. This is measured on EA1s."></metric>
  <metric name="WDATA1_SIZE" expr=((TCC_EA1_WRREQ_sum-TCC_EA1_WRREQ_64B_sum)*32+TCC_EA1_WRREQ_64B_sum*64) descr="The total kilobytes written to the video memory. This is measured on EA1s."></metric>

  # both EA0 and EA1 should be included
  <metric name="FETCH_SIZE" expr=(TCC_EA_RDREQ_32B_sum*32+(TCC_EA_RDREQ_sum-TCC_EA_RDREQ_32B_sum)*64+RDATA1_SIZE)/1024 descr="The total kilobytes fetched from the video memory. This is measured with all extra fetches and any cache or memory effects taken into account."></metric>
  <metric name="WRITE_SIZE" expr=((TCC_EA_WRREQ_sum-TCC_EA_WRREQ_64B_sum)*32+TCC_EA_WRREQ_64B_sum*64+WDATA1_SIZE)/1024 descr="The total kilobytes written to the video memory. This is measured with all extra fetches and any cache or memory effects taken into account."></metric>
  <metric name="WRITE_REQ_32B" expr=(TCC_EA_WRREQ_sum-TCC_EA_WRREQ_64B_sum)+(TCC_EA1_WRREQ_sum-TCC_EA1_WRREQ_64B_sum)+(TCC_EA_WRREQ_64B_sum+TCC_EA1_WRREQ_64B_sum)*2 descr="The total number of 32-byte effective memory writes."></metric>


    #xlu - TCC
  <metric name="TCC_CYCLE_sum"                                          expr=sum(TCC_CYCLE,16) descr="."></metric>
  <metric name="TCC_BUSY_sum"                                           expr=sum(TCC_BUSY,16) descr="."></metric>
  <metric name="TCC_REQ_sum"                                            expr=sum(TCC_REQ,16) descr="."></metric>
  <metric name="TCC_STREAMING_REQ_sum"                                  expr=sum(TCC_STREAMING_REQ,16) descr="."></metric>
  <metric name="TCC_NC_REQ_sum"                                         expr=sum(TCC_NC_REQ,16) descr="."></metric>
  <metric name="TCC_UC_REQ_sum"                                         expr=sum(TCC_UC_REQ,16) descr="."></metric>
  <metric name="TCC_CC_REQ_sum"                                         expr=sum(TCC_CC_REQ,16) descr="."></metric>
      #<metric name="TCC_RW_REQ_sum"                                         expr=sum(TCC_RW_REQ,16) descr="."></metric>
  <metric name="TCC_PROBE_sum"                                          expr=sum(TCC_PROBE,16) descr="."></metric>
  <metric name="TCC_PROBE_ALL_sum"                                      expr=sum(TCC_PROBE_ALL,16) descr="."></metric>
  <metric name="TCC_INTERNAL_PROBE_sum"                                 expr=sum(TCC_INTERNAL_PROBE,16) descr="."></metric>
  <metric name="TCC_READ_sum"                                           expr=sum(TCC_READ,16) descr="."></metric>
  <metric name="TCC_WRITE_sum"                                          expr=sum(TCC_WRITE,16) descr="."></metric>
  <metric name="TCC_ATOMIC_sum"                                         expr=sum(TCC_ATOMIC,16) descr="."></metric>
  <metric name="TCC_NOP_ACK_sum"                                        expr=sum(TCC_NOP_ACK,16) descr="."></metric>
  <metric name="TCC_NOP_RTN0_sum"                                       expr=sum(TCC_NOP_RTN0,16) descr="."></metric>
  <metric name="TCC_HIT_sum"                                            expr=sum(TCC_HIT,16) descr="."></metric>
  <metric name="TCC_SECTOR_HIT_sum"                                     expr=sum(TCC_SECTOR_HIT,16) descr="."></metric>
  <metric name="TCC_MISS_sum"                                           expr=sum(TCC_MISS,16) descr="."></metric>
  <metric name="TCC_DEWRITE_ALLOCATE_HIT_sum"                           expr=sum(TCC_DEWRITE_ALLOCATE_HIT,16) descr="."></metric>
  <metric name="TCC_FULLY_WRITTEN_HIT_sum"                              expr=sum(TCC_FULLY_WRITTEN_HIT,16) descr="."></metric>
  <metric name="TCC_WRITEBACK_sum"                                      expr=sum(TCC_WRITEBACK,16) descr="."></metric>
  <metric name="TCC_LATENCY_FIFO_FULL_sum"                              expr=sum(TCC_LATENCY_FIFO_FULL,16) descr="."></metric>
  <metric name="TCC_SRC_FIFO_FULL_sum"                                  expr=sum(TCC_SRC_FIFO_FULL,16) descr="."></metric>
  <metric name="TCC_HOLE_FIFO_FULL_sum"                                 expr=sum(TCC_HOLE_FIFO_FULL,16) descr="."></metric>
  <metric name="TCC_EA_WRREQ_sum"                                       expr=sum(TCC_EA_WRREQ,16) descr="."></metric>
  <metric name="TCC_EA_WRREQ_64B_sum"                                   expr=sum(TCC_EA_WRREQ_64B,16) descr="."></metric>
  <metric name="TCC_EA_WRREQ_PROBE_COMMAND_sum"                         expr=sum(TCC_EA_WRREQ_PROBE_COMMAND,16) descr="."></metric>
  <metric name="TCC_EA_WR_UNCACHED_32B_sum"                             expr=sum(TCC_EA_WR_UNCACHED_32B,16) descr="."></metric>
  <metric name="TCC_EA_WRREQ_STALL_sum"                                 expr=sum(TCC_EA_WRREQ_STALL,16) descr="."></metric>
  <metric name="TCC_EA_WRREQ_IO_CREDIT_STALL_sum"                       expr=sum(TCC_EA_WRREQ_IO_CREDIT_STALL,16) descr="."></metric>
  <metric name="TCC_EA_WRREQ_GMI_CREDIT_STALL_sum"                      expr=sum(TCC_EA_WRREQ_GMI_CREDIT_STALL,16) descr="."></metric>
  <metric name="TCC_EA_WRREQ_DRAM_CREDIT_STALL_sum"                     expr=sum(TCC_EA_WRREQ_DRAM_CREDIT_STALL,16) descr="."></metric>
  <metric name="TCC_TOO_MANY_EA_WRREQS_STALL_sum"                       expr=sum(TCC_TOO_MANY_EA_WRREQS_STALL,16) descr="."></metric>
  <metric name="TCC_EA_WRREQ_LEVEL_sum"                                 expr=sum(TCC_EA_WRREQ_LEVEL,16) descr="."></metric>
  <metric name="TCC_EA_RDREQ_LEVEL_sum"                                 expr=sum(TCC_EA_RDREQ_LEVEL,16) descr="."></metric>
  <metric name="TCC_HOLE_LEVEL_sum"                                     expr=sum(TCC_HOLE_LEVEL,16) descr="."></metric>
  <metric name="TCC_TCA_LEVEL_sum"                                      expr=sum(TCC_TCA_LEVEL,16) descr="."></metric>
  <metric name="TCC_EA_ATOMIC_sum"                                      expr=sum(TCC_EA_ATOMIC,16) descr="."></metric>
  <metric name="TCC_EA_ATOMIC_LEVEL_sum"                                expr=sum(TCC_EA_ATOMIC_LEVEL,16) descr="."></metric>
  <metric name="TCC_EA_RDREQ_sum"                                       expr=sum(TCC_EA_RDREQ,16) descr="."></metric>
  <metric name="TCC_EA_RDREQ_32B_sum"                                   expr=sum(TCC_EA_RDREQ_32B,16) descr="."></metric>
  <metric name="TCC_EA_RD_UNCACHED_32B_sum"                             expr=sum(TCC_EA_RD_UNCACHED_32B,16) descr="."></metric>
  <metric name="TCC_EA_RDREQ_IO_CREDIT_STALL_sum"                       expr=sum(TCC_EA_RDREQ_IO_CREDIT_STALL,16) descr="."></metric>
  <metric name="TCC_EA_RDREQ_GMI_CREDIT_STALL_sum"                      expr=sum(TCC_EA_RDREQ_GMI_CREDIT_STALL,16) descr="."></metric>
  <metric name="TCC_EA_RDREQ_DRAM_CREDIT_STALL_sum"                     expr=sum(TCC_EA_RDREQ_DRAM_CREDIT_STALL,16) descr="."></metric>
  <metric name="TCC_TAG_WRITEBACK_FIFO_FULL_STALL_sum"                  expr=sum(TCC_TAG_WRITEBACK_FIFO_FULL_STALL,16) descr="."></metric>
  <metric name="TCC_TAG_MISS_NOTHING_REPLACEABLE_STALL_sum"             expr=sum(TCC_TAG_MISS_NOTHING_REPLACEABLE_STALL,16) descr="."></metric>
  <metric name="TCC_TAG_UNCACHED_WRITE_ATOMIC_FIFO_FULL_STALL_sum"      expr=sum(TCC_TAG_UNCACHED_WRITE_ATOMIC_FIFO_FULL_STALL,16) descr="."></metric>
  <metric name="TCC_TAG_NO_UNCACHED_WRITE_ATOMIC_ENTRIES_STALL_sum"     expr=sum(TCC_TAG_NO_UNCACHED_WRITE_ATOMIC_ENTRIES_STALL,16) descr="."></metric>
  <metric name="TCC_TAG_PROBE_STALL_sum"                                expr=sum(TCC_TAG_PROBE_STALL,16) descr="."></metric>
  <metric name="TCC_TAG_PROBE_FILTER_STALL_sum"                         expr=sum(TCC_TAG_PROBE_FILTER_STALL,16) descr="."></metric>
  <metric name="TCC_TAG_PROBE_FIFO_FULL_STALL_sum"                      expr=sum(TCC_TAG_PROBE_FIFO_FULL_STALL,16) descr="."></metric>
  <metric name="TCC_READ_RETURN_TIMEOUT_sum"                            expr=sum(TCC_READ_RETURN_TIMEOUT,16) descr="."></metric>
  <metric name="TCC_WRITEBACK_READ_TIMEOUT_sum"                         expr=sum(TCC_WRITEBACK_READ_TIMEOUT,16) descr="."></metric>
  <metric name="TCC_READ_RETURN_FULL_BUBBLE_sum"                        expr=sum(TCC_READ_RETURN_FULL_BUBBLE,16) descr="."></metric>
  <metric name="TCC_BUBBLE_sum"                                         expr=sum(TCC_BUBBLE,16) descr="."></metric>
  <metric name="TCC_RETURN_ACK_sum"                                     expr=sum(TCC_RETURN_ACK,16) descr="."></metric>
  <metric name="TCC_RETURN_DATA_sum"                                    expr=sum(TCC_RETURN_DATA,16) descr="."></metric>
  <metric name="TCC_RETURN_HOLE_sum"                                    expr=sum(TCC_RETURN_HOLE,16) descr="."></metric>
  <metric name="TCC_RETURN_ACK_HOLE_sum"                                expr=sum(TCC_RETURN_ACK_HOLE,16) descr="."></metric>
  <metric name="TCC_IB_REQ_sum"                                         expr=sum(TCC_IB_REQ,16) descr="."></metric>
  <metric name="TCC_IB_STALL_sum"                                       expr=sum(TCC_IB_STALL,16) descr="."></metric>
  <metric name="TCC_IB_TAG_STALL_sum"                                   expr=sum(TCC_IB_TAG_STALL,16) descr="."></metric>
  <metric name="TCC_EA_RDRET_NACK_sum"                                  expr=sum(TCC_EA_RDRET_NACK,16) descr="."></metric>
  <metric name="TCC_EA_WRRET_NACK_sum"                                  expr=sum(TCC_EA_WRRET_NACK,16) descr="."></metric>
  <metric name="TCC_NORMAL_WRITEBACK_sum"                               expr=sum(TCC_NORMAL_WRITEBACK,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBL2_NC_WRITEBACK_sum"                        expr=sum(TCC_TC_OP_WBL2_NC_WRITEBACK,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_WRITEBACK_sum"                        expr=sum(TCC_TC_OP_WBINVL2_WRITEBACK,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_NC_WRITEBACK_sum"                     expr=sum(TCC_TC_OP_WBINVL2_NC_WRITEBACK,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_SD_WRITEBACK_sum"                     expr=sum(TCC_TC_OP_WBINVL2_SD_WRITEBACK,16) descr="."></metric>
  <metric name="TCC_ALL_TC_OP_WB_WRITEBACK_sum"                         expr=sum(TCC_ALL_TC_OP_WB_WRITEBACK,16) descr="."></metric>
  <metric name="TCC_NORMAL_EVICT_sum"                                   expr=sum(TCC_NORMAL_EVICT,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBL2_NC_EVICT_sum"                            expr=sum(TCC_TC_OP_WBL2_NC_EVICT,16) descr="."></metric>
  <metric name="TCC_TC_OP_INVL2_NC_EVICT_sum"                           expr=sum(TCC_TC_OP_INVL2_NC_EVICT,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_EVICT_sum"                            expr=sum(TCC_TC_OP_WBINVL2_EVICT,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_NC_EVICT_sum"                         expr=sum(TCC_TC_OP_WBINVL2_NC_EVICT,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_SD_EVICT_sum"                         expr=sum(TCC_TC_OP_WBINVL2_SD_EVICT,16) descr="."></metric>
  <metric name="TCC_ALL_TC_OP_INV_EVICT_sum"                            expr=sum(TCC_ALL_TC_OP_INV_EVICT,16) descr="."></metric>
  <metric name="TCC_PROBE_EVICT_sum"                                    expr=sum(TCC_PROBE_EVICT,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBL2_NC_CYCLE_sum"                            expr=sum(TCC_TC_OP_WBL2_NC_CYCLE,16) descr="."></metric>
  <metric name="TCC_TC_OP_INVL2_NC_CYCLE_sum"                           expr=sum(TCC_TC_OP_INVL2_NC_CYCLE,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_CYCLE_sum"                            expr=sum(TCC_TC_OP_WBINVL2_CYCLE,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_NC_CYCLE_sum"                         expr=sum(TCC_TC_OP_WBINVL2_NC_CYCLE,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_SD_CYCLE_sum"                         expr=sum(TCC_TC_OP_WBINVL2_SD_CYCLE,16) descr="."></metric>
  <metric name="TCC_ALL_TC_OP_WB_OR_INV_CYCLE_sum"                      expr=sum(TCC_ALL_TC_OP_WB_OR_INV_CYCLE,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBL2_NC_START_sum"                            expr=sum(TCC_TC_OP_WBL2_NC_START,16) descr="."></metric>
  <metric name="TCC_TC_OP_INVL2_NC_START_sum"                           expr=sum(TCC_TC_OP_INVL2_NC_START,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_START_sum"                            expr=sum(TCC_TC_OP_WBINVL2_START,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_NC_START_sum"                         expr=sum(TCC_TC_OP_WBINVL2_NC_START,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_SD_START_sum"                         expr=sum(TCC_TC_OP_WBINVL2_SD_START,16) descr="."></metric>
  <metric name="TCC_ALL_TC_OP_WB_OR_INV_START_sum"                      expr=sum(TCC_ALL_TC_OP_WB_OR_INV_START,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBL2_NC_FINISH_sum"                           expr=sum(TCC_TC_OP_WBL2_NC_FINISH,16) descr="."></metric>
  <metric name="TCC_TC_OP_INVL2_NC_FINISH_sum"                          expr=sum(TCC_TC_OP_INVL2_NC_FINISH,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_FINISH_sum"                           expr=sum(TCC_TC_OP_WBINVL2_FINISH,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_NC_FINISH_sum"                        expr=sum(TCC_TC_OP_WBINVL2_NC_FINISH,16) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_SD_FINISH_sum"                        expr=sum(TCC_TC_OP_WBINVL2_SD_FINISH,16) descr="."></metric>
  <metric name="TCC_ALL_TC_OP_WB_OR_INV_FINISH_sum"                     expr=sum(TCC_ALL_TC_OP_WB_OR_INV_FINISH,16) descr="."></metric>
  <metric name="TCC_PROBE_FILTER_DISABLE_TRANSITION_sum"                expr=sum(TCC_PROBE_FILTER_DISABLE_TRANSITION,16) descr="."></metric>
  <metric name="TCC_PROBE_FILTER_DISABLED_sum"                          expr=sum(TCC_PROBE_FILTER_DISABLED,16) descr="."></metric>
  <metric name="TCC_EA_RDREQ_DRAM_sum"                                  expr=sum(TCC_EA_RDREQ_DRAM,16) descr="."></metric>
  <metric name="TCC_EA_WRREQ_DRAM_sum"                                  expr=sum(TCC_EA_WRREQ_DRAM,16) descr="."></metric>


</gfx906_expr>

<gfx908_expr base="gfx9_expr">
  <metric name="TCC_BUSY_avr" expr=avr(TCC_BUSY,32) descr="TCC_BUSY avr over all memory channels."></metric>
  <metric name="TCC_REQ_sum" expr=sum(TCC_REQ,32) descr="TCC_REQ sum over all memory channels."></metric>
  <metric name="TCC_HIT_sum" expr=sum(TCC_HIT,32) descr="Number of cache hits. Sum over TCC instances."></metric>
  <metric name="TCC_MISS_sum" expr=sum(TCC_MISS,32) descr="Number of cache misses. Sum over TCC instances."></metric>
  <metric name="TCC_EA_RDREQ_32B_sum" expr=sum(TCC_EA_RDREQ_32B,32) descr="Number of 32-byte TCC/EA read requests. Sum over TCC instances."></metric>
  <metric name="TCC_EA_RDREQ_sum" expr=sum(TCC_EA_RDREQ,32) descr="Number of TCC/EA read requests (either 32-byte or 64-byte). Sum over TCC instances."></metric>
  <metric name="TCC_EA_WRREQ_sum" expr=sum(TCC_EA_WRREQ,32) descr="Number of transactions (either 32-byte or 64-byte) going over the TC_EA_wrreq interface. Sum over TCC instances."></metric>
  <metric name="TCC_EA_WRREQ_64B_sum" expr=sum(TCC_EA_WRREQ_64B,32) descr="Number of 64-byte transactions going (64-byte write or CMPSWAP) over the TC_EA_wrreq interface. Sum over TCC instances."></metric>
  <metric name="TCC_WRREQ_STALL_max" expr=max(TCC_EA_WRREQ_STALL,32) descr="Number of cycles a write request was stalled. Max over TCC instances."></metric>

  #xlu - TCP
  <metric name="TCP_TCC_RW_READ_REQ_sum"                                expr=sum(TCP_TCC_RW_READ_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_RW_WRITE_REQ_sum"                               expr=sum(TCP_TCC_RW_WRITE_REQ,16) descr="."></metric>
  <metric name="TCP_TCC_RW_ATOMIC_REQ_sum"                              expr=sum(TCP_TCC_RW_ATOMIC_REQ,16) descr="."></metric>

    #xlu - TCC
  <metric name="TCC_CYCLE_sum"                                          expr=sum(TCC_CYCLE,32) descr="."></metric>
  <metric name="TCC_BUSY_sum"                                           expr=sum(TCC_BUSY,32) descr="."></metric>
  <metric name="TCC_REQ_sum"                                            expr=sum(TCC_REQ,32) descr="."></metric>
  <metric name="TCC_STREAMING_REQ_sum"                                  expr=sum(TCC_STREAMING_REQ,32) descr="."></metric>
  <metric name="TCC_NC_REQ_sum"                                         expr=sum(TCC_NC_REQ,32) descr="."></metric>
  <metric name="TCC_UC_REQ_sum"                                         expr=sum(TCC_UC_REQ,32) descr="."></metric>
  <metric name="TCC_CC_REQ_sum"                                         expr=sum(TCC_CC_REQ,32) descr="."></metric>
  <metric name="TCC_RW_REQ_sum"                                         expr=sum(TCC_RW_REQ,32) descr="."></metric>
  <metric name="TCC_PROBE_sum"                                          expr=sum(TCC_PROBE,32) descr="."></metric>
  <metric name="TCC_PROBE_ALL_sum"                                      expr=sum(TCC_PROBE_ALL,32) descr="."></metric>
  <metric name="TCC_INTERNAL_PROBE_sum"                                 expr=sum(TCC_INTERNAL_PROBE,32) descr="."></metric>
  <metric name="TCC_READ_sum"                                           expr=sum(TCC_READ,32) descr="."></metric>
  <metric name="TCC_WRITE_sum"                                          expr=sum(TCC_WRITE,32) descr="."></metric>
  <metric name="TCC_ATOMIC_sum"                                         expr=sum(TCC_ATOMIC,32) descr="."></metric>
  <metric name="TCC_NOP_ACK_sum"                                        expr=sum(TCC_NOP_ACK,32) descr="."></metric>
  <metric name="TCC_NOP_RTN0_sum"                                       expr=sum(TCC_NOP_RTN0,32) descr="."></metric>
  <metric name="TCC_HIT_sum"                                            expr=sum(TCC_HIT,32) descr="."></metric>
  <metric name="TCC_SECTOR_HIT_sum"                                     expr=sum(TCC_SECTOR_HIT,32) descr="."></metric>
  <metric name="TCC_MISS_sum"                                           expr=sum(TCC_MISS,32) descr="."></metric>
  <metric name="TCC_TAG_STALL_sum"                                      expr=sum(TCC_TAG_STALL,32) descr="."></metric>
  <metric name="TCC_DEWRITE_ALLOCATE_HIT_sum"                           expr=sum(TCC_DEWRITE_ALLOCATE_HIT,32) descr="."></metric>
  <metric name="TCC_FULLY_WRITTEN_HIT_sum"                              expr=sum(TCC_FULLY_WRITTEN_HIT,32) descr="."></metric>
  <metric name="TCC_WRITEBACK_sum"                                      expr=sum(TCC_WRITEBACK,32) descr="."></metric>
  <metric name="TCC_LATENCY_FIFO_FULL_sum"                              expr=sum(TCC_LATENCY_FIFO_FULL,32) descr="."></metric>
  <metric name="TCC_SRC_FIFO_FULL_sum"                                  expr=sum(TCC_SRC_FIFO_FULL,32) descr="."></metric>
  <metric name="TCC_HOLE_FIFO_FULL_sum"                                 expr=sum(TCC_HOLE_FIFO_FULL,32) descr="."></metric>
  <metric name="TCC_EA_WRREQ_sum"                                       expr=sum(TCC_EA_WRREQ,32) descr="."></metric>
  <metric name="TCC_EA_WRREQ_64B_sum"                                   expr=sum(TCC_EA_WRREQ_64B,32) descr="."></metric>
  <metric name="TCC_EA_WRREQ_PROBE_COMMAND_sum"                         expr=sum(TCC_EA_WRREQ_PROBE_COMMAND,32) descr="."></metric>
  <metric name="TCC_EA_WR_UNCACHED_32B_sum"                             expr=sum(TCC_EA_WR_UNCACHED_32B,32) descr="."></metric>
  <metric name="TCC_EA_WRREQ_STALL_sum"                                 expr=sum(TCC_EA_WRREQ_STALL,32) descr="."></metric>
  <metric name="TCC_EA_WRREQ_IO_CREDIT_STALL_sum"                       expr=sum(TCC_EA_WRREQ_IO_CREDIT_STALL,32) descr="."></metric>
  <metric name="TCC_EA_WRREQ_GMI_CREDIT_STALL_sum"                      expr=sum(TCC_EA_WRREQ_GMI_CREDIT_STALL,32) descr="."></metric>
  <metric name="TCC_EA_WRREQ_DRAM_CREDIT_STALL_sum"                     expr=sum(TCC_EA_WRREQ_DRAM_CREDIT_STALL,32) descr="."></metric>
  <metric name="TCC_TOO_MANY_EA_WRREQS_STALL_sum"                       expr=sum(TCC_TOO_MANY_EA_WRREQS_STALL,32) descr="."></metric>
  <metric name="TCC_EA_WRREQ_LEVEL_sum"                                 expr=sum(TCC_EA_WRREQ_LEVEL,32) descr="."></metric>
  <metric name="TCC_EA_RDREQ_LEVEL_sum"                                 expr=sum(TCC_EA_RDREQ_LEVEL,32) descr="."></metric>
  <metric name="TCC_HOLE_LEVEL_sum"                                     expr=sum(TCC_HOLE_LEVEL,32) descr="."></metric>
  <metric name="TCC_TCA_LEVEL_sum"                                      expr=sum(TCC_TCA_LEVEL,32) descr="."></metric>
  <metric name="TCC_EA_ATOMIC_sum"                                      expr=sum(TCC_EA_ATOMIC,32) descr="."></metric>
  <metric name="TCC_EA_ATOMIC_LEVEL_sum"                                expr=sum(TCC_EA_ATOMIC_LEVEL,32) descr="."></metric>
  <metric name="TCC_EA_RDREQ_sum"                                       expr=sum(TCC_EA_RDREQ,32) descr="."></metric>
  <metric name="TCC_EA_RDREQ_32B_sum"                                   expr=sum(TCC_EA_RDREQ_32B,32) descr="."></metric>
  <metric name="TCC_EA_RD_UNCACHED_32B_sum"                             expr=sum(TCC_EA_RD_UNCACHED_32B,32) descr="."></metric>
  <metric name="TCC_EA_RDREQ_IO_CREDIT_STALL_sum"                       expr=sum(TCC_EA_RDREQ_IO_CREDIT_STALL,32) descr="."></metric>
  <metric name="TCC_EA_RDREQ_GMI_CREDIT_STALL_sum"                      expr=sum(TCC_EA_RDREQ_GMI_CREDIT_STALL,32) descr="."></metric>
  <metric name="TCC_EA_RDREQ_DRAM_CREDIT_STALL_sum"                     expr=sum(TCC_EA_RDREQ_DRAM_CREDIT_STALL,32) descr="."></metric>
  <metric name="TCC_TAG_WRITEBACK_FIFO_FULL_STALL_sum"                  expr=sum(TCC_TAG_WRITEBACK_FIFO_FULL_STALL,32) descr="."></metric>
  <metric name="TCC_TAG_MISS_NOTHING_REPLACEABLE_STALL_sum"             expr=sum(TCC_TAG_MISS_NOTHING_REPLACEABLE_STALL,32) descr="."></metric>
  <metric name="TCC_TAG_UNCACHED_WRITE_ATOMIC_FIFO_FULL_STALL_sum"      expr=sum(TCC_TAG_UNCACHED_WRITE_ATOMIC_FIFO_FULL_STALL,32) descr="."></metric>
  <metric name="TCC_TAG_NO_UNCACHED_WRITE_ATOMIC_ENTRIES_STALL_sum"     expr=sum(TCC_TAG_NO_UNCACHED_WRITE_ATOMIC_ENTRIES_STALL,32) descr="."></metric>
  <metric name="TCC_TAG_PROBE_STALL_sum"                                expr=sum(TCC_TAG_PROBE_STALL,32) descr="."></metric>
  <metric name="TCC_TAG_PROBE_FILTER_STALL_sum"                         expr=sum(TCC_TAG_PROBE_FILTER_STALL,32) descr="."></metric>
  <metric name="TCC_TAG_PROBE_FIFO_FULL_STALL_sum"                      expr=sum(TCC_TAG_PROBE_FIFO_FULL_STALL,32) descr="."></metric>
  <metric name="TCC_READ_RETURN_TIMEOUT_sum"                            expr=sum(TCC_READ_RETURN_TIMEOUT,32) descr="."></metric>
  <metric name="TCC_WRITEBACK_READ_TIMEOUT_sum"                         expr=sum(TCC_WRITEBACK_READ_TIMEOUT,32) descr="."></metric>
  <metric name="TCC_READ_RETURN_FULL_BUBBLE_sum"                        expr=sum(TCC_READ_RETURN_FULL_BUBBLE,32) descr="."></metric>
  <metric name="TCC_BUBBLE_sum"                                         expr=sum(TCC_BUBBLE,32) descr="."></metric>
  <metric name="TCC_RETURN_ACK_sum"                                     expr=sum(TCC_RETURN_ACK,32) descr="."></metric>
  <metric name="TCC_RETURN_DATA_sum"                                    expr=sum(TCC_RETURN_DATA,32) descr="."></metric>
  <metric name="TCC_RETURN_HOLE_sum"                                    expr=sum(TCC_RETURN_HOLE,32) descr="."></metric>
  <metric name="TCC_RETURN_ACK_HOLE_sum"                                expr=sum(TCC_RETURN_ACK_HOLE,32) descr="."></metric>
  <metric name="TCC_IB_REQ_sum"                                         expr=sum(TCC_IB_REQ,32) descr="."></metric>
  <metric name="TCC_IB_STALL_sum"                                       expr=sum(TCC_IB_STALL,32) descr="."></metric>
  <metric name="TCC_IB_TAG_STALL_sum"                                   expr=sum(TCC_IB_TAG_STALL,32) descr="."></metric>
  <metric name="TCC_EA_RDRET_NACK_sum"                                  expr=sum(TCC_EA_RDRET_NACK,32) descr="."></metric>
  <metric name="TCC_EA_WRRET_NACK_sum"                                  expr=sum(TCC_EA_WRRET_NACK,32) descr="."></metric>
  <metric name="TCC_NORMAL_WRITEBACK_sum"                               expr=sum(TCC_NORMAL_WRITEBACK,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBL2_NC_WRITEBACK_sum"                        expr=sum(TCC_TC_OP_WBL2_NC_WRITEBACK,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_WRITEBACK_sum"                        expr=sum(TCC_TC_OP_WBINVL2_WRITEBACK,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_NC_WRITEBACK_sum"                     expr=sum(TCC_TC_OP_WBINVL2_NC_WRITEBACK,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_SD_WRITEBACK_sum"                     expr=sum(TCC_TC_OP_WBINVL2_SD_WRITEBACK,32) descr="."></metric>
  <metric name="TCC_ALL_TC_OP_WB_WRITEBACK_sum"                         expr=sum(TCC_ALL_TC_OP_WB_WRITEBACK,32) descr="."></metric>
  <metric name="TCC_NORMAL_EVICT_sum"                                   expr=sum(TCC_NORMAL_EVICT,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBL2_NC_EVICT_sum"                            expr=sum(TCC_TC_OP_WBL2_NC_EVICT,32) descr="."></metric>
  <metric name="TCC_TC_OP_INVL2_NC_EVICT_sum"                           expr=sum(TCC_TC_OP_INVL2_NC_EVICT,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_EVICT_sum"                            expr=sum(TCC_TC_OP_WBINVL2_EVICT,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_NC_EVICT_sum"                         expr=sum(TCC_TC_OP_WBINVL2_NC_EVICT,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_SD_EVICT_sum"                         expr=sum(TCC_TC_OP_WBINVL2_SD_EVICT,32) descr="."></metric>
  <metric name="TCC_ALL_TC_OP_INV_EVICT_sum"                            expr=sum(TCC_ALL_TC_OP_INV_EVICT,32) descr="."></metric>
  <metric name="TCC_PROBE_EVICT_sum"                                    expr=sum(TCC_PROBE_EVICT,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBL2_NC_CYCLE_sum"                            expr=sum(TCC_TC_OP_WBL2_NC_CYCLE,32) descr="."></metric>
  <metric name="TCC_TC_OP_INVL2_NC_CYCLE_sum"                           expr=sum(TCC_TC_OP_INVL2_NC_CYCLE,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_CYCLE_sum"                            expr=sum(TCC_TC_OP_WBINVL2_CYCLE,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_NC_CYCLE_sum"                         expr=sum(TCC_TC_OP_WBINVL2_NC_CYCLE,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_SD_CYCLE_sum"                         expr=sum(TCC_TC_OP_WBINVL2_SD_CYCLE,32) descr="."></metric>
  <metric name="TCC_ALL_TC_OP_WB_OR_INV_CYCLE_sum"                      expr=sum(TCC_ALL_TC_OP_WB_OR_INV_CYCLE,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBL2_NC_START_sum"                            expr=sum(TCC_TC_OP_WBL2_NC_START,32) descr="."></metric>
  <metric name="TCC_TC_OP_INVL2_NC_START_sum"                           expr=sum(TCC_TC_OP_INVL2_NC_START,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_START_sum"                            expr=sum(TCC_TC_OP_WBINVL2_START,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_NC_START_sum"                         expr=sum(TCC_TC_OP_WBINVL2_NC_START,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_SD_START_sum"                         expr=sum(TCC_TC_OP_WBINVL2_SD_START,32) descr="."></metric>
  <metric name="TCC_ALL_TC_OP_WB_OR_INV_START_sum"                      expr=sum(TCC_ALL_TC_OP_WB_OR_INV_START,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBL2_NC_FINISH_sum"                           expr=sum(TCC_TC_OP_WBL2_NC_FINISH,32) descr="."></metric>
  <metric name="TCC_TC_OP_INVL2_NC_FINISH_sum"                          expr=sum(TCC_TC_OP_INVL2_NC_FINISH,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_FINISH_sum"                           expr=sum(TCC_TC_OP_WBINVL2_FINISH,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_NC_FINISH_sum"                        expr=sum(TCC_TC_OP_WBINVL2_NC_FINISH,32) descr="."></metric>
  <metric name="TCC_TC_OP_WBINVL2_SD_FINISH_sum"                        expr=sum(TCC_TC_OP_WBINVL2_SD_FINISH,32) descr="."></metric>
  <metric name="TCC_ALL_TC_OP_WB_OR_INV_FINISH_sum"                     expr=sum(TCC_ALL_TC_OP_WB_OR_INV_FINISH,32) descr="."></metric>
  <metric name="TCC_PROBE_FILTER_DISABLE_TRANSITION_sum"                expr=sum(TCC_PROBE_FILTER_DISABLE_TRANSITION,32) descr="."></metric>
  <metric name="TCC_PROBE_FILTER_DISABLED_sum"                          expr=sum(TCC_PROBE_FILTER_DISABLED,32) descr="."></metric>
  <metric name="TCC_EA_RDREQ_DRAM_sum"                                  expr=sum(TCC_EA_RDREQ_DRAM,32) descr="."></metric>
  <metric name="TCC_EA_WRREQ_DRAM_sum"                                  expr=sum(TCC_EA_WRREQ_DRAM,32) descr="."></metric>
  
  <metric name="TCC_CLIENT42_REQ_sum"                                   expr=sum(TCC_CLIENT42_REQ,32) descr="SQG0-to-TCC requests"></metric>
  <metric name="TCC_CLIENT43_REQ_sum"                                   expr=sum(TCC_CLIENT43_REQ,32) descr="SQG2-to-TCC requests"></metric>
  <metric name="TCC_CLIENT45_REQ_sum"                                   expr=sum(TCC_CLIENT45_REQ,32) descr="CPF-2-TCC requests"></metric>
  <metric name="TCC_CLIENT88_REQ_sum"                                   expr=sum(TCC_CLIENT88_REQ,32) descr="SQG4-to-TCC requests"></metric>
  <metric name="TCC_CLIENT89_REQ_sum"                                   expr=sum(TCC_CLIENT89_REQ,32) descr="SQG6-TCC requests"></metric>
  <metric name="TCC_CLIENT91_REQ_sum"                                   expr=sum(TCC_CLIENT91_REQ,32) descr="UTCL2-to-TCC requests"></metric>
  <metric name="TCC_CLIENT134_REQ_sum"                                  expr=sum(TCC_CLIENT134_REQ,32) descr="SQG1-to-TCC requests"></metric>
  <metric name="TCC_CLIENT135_REQ_sum"                                  expr=sum(TCC_CLIENT135_REQ,32) descr="SQG3-to-TCC requests"></metric>
  <metric name="TCC_CLIENT137_REQ_sum"                                  expr=sum(TCC_CLIENT137_REQ,32) descr="RLC-to-TCC requests"></metric>
  <metric name="TCC_CLIENT180_REQ_sum"                                  expr=sum(TCC_CLIENT180_REQ,32) descr="SQG5-to-TCC requests"></metric>
  <metric name="TCC_CLIENT181_REQ_sum"                                  expr=sum(TCC_CLIENT181_REQ,32) descr="SQG7-to-TCC requests"></metric>
  <metric name="TCC_CLIENT182_REQ_sum"                                  expr=sum(TCC_CLIENT182_REQ,32) descr="TPI-to-TCC requests"></metric>
  <metric name="TCC_CLIENT183_REQ_sum"                                  expr=sum(TCC_CLIENT183_REQ,32) descr="CPG-to-TCC requests"></metric>




</gfx908_expr>

<gfx8 base="gfx8_expr"></gfx8>
<gfx9 base="gfx9_expr"></gfx9>
<gfx906 base="gfx906_expr"></gfx906>
<gfx908 base="gfx908_expr"> </gfx908>


<gfx90a base="gfx908_expr"> 
  #xlu - TD
  <metric name="TD_SPI_STALL_sum"                                       expr=sum(TD_SPI_STALL,16) descr="."></metric>

  #xlu - TCP
  <metric name="TCP_WBL2_NC_REQ_sum"                                    expr=sum(TCP_WBL2_NC_REQ,16) descr="."></metric>
  <metric name="TCP_WBL2_NC_LATENCY_sum"                                expr=sum(TCP_WBL2_NC_LATENCY,16) descr="."></metric>
  <metric name="TCP_TCR_REQ_XFER128B_COMBINING_sum"                     expr=sum(TCP_TCR_REQ_XFER128B_COMBINING,16) descr="."></metric>
</gfx90a>


<global>
  # GPUBusy         The percentage of time GPU was busy.
  <metric
    name="GPUBusy"
    descr="The percentage of time GPU was busy."
    expr=100*GRBM_GUI_ACTIVE/GRBM_COUNT
  ></metric>

  # Wavefronts      Total wavefronts.
  <metric
    name="Wavefronts"
    descr="Total wavefronts."
    expr=SQ_WAVES
  ></metric>

  # VALUInsts       The average number of vector ALU instructions executed per work-item (affected by flow control).
  <metric
    name="VALUInsts"
    descr="The average number of vector ALU instructions executed per work-item (affected by flow control)."
    expr=SQ_INSTS_VALU/SQ_WAVES
  ></metric>

  # SALUInsts       The average number of scalar ALU instructions executed per work-item (affected by flow control).
  <metric
    name="SALUInsts"
    descr="The average number of scalar ALU instructions executed per work-item (affected by flow control)."
    expr=SQ_INSTS_SALU/SQ_WAVES
  ></metric>

  # VFetchInsts     The average number of vector fetch instructions from the video memory executed per work-item (affected by flow control). Excludes FLAT instructions that fetch from video memory.
  <metric
    name="VFetchInsts"
    descr="The average number of vector fetch instructions from the video memory executed per work-item (affected by flow control). Excludes FLAT instructions that fetch from video memory."
    expr=(SQ_INSTS_VMEM_RD-TA_FLAT_READ_WAVEFRONTS_sum)/SQ_WAVES
  ></metric>

  # SFetchInsts     The average number of scalar fetch instructions from the video memory executed per work-item (affected by flow control).
  <metric
    name="SFetchInsts"
    descr="The average number of scalar fetch instructions from the video memory executed per work-item (affected by flow control)."
    expr=SQ_INSTS_SMEM/SQ_WAVES
  ></metric>

  # VWriteInsts     The average number of vector write instructions to the video memory executed per work-item (affected by flow control). Excludes FLAT instructions that write to video memory.
  <metric
    name="VWriteInsts"
    descr="The average number of vector write instructions to the video memory executed per work-item (affected by flow control). Excludes FLAT instructions that write to video memory."
    expr=(SQ_INSTS_VMEM_WR-TA_FLAT_WRITE_WAVEFRONTS_sum)/SQ_WAVES
  ></metric>

  # FlatVMemInsts   The average number of FLAT instructions that read from or write to the video memory executed per work item (affected by flow control). Includes FLAT instructions that read from or write to scratch.
  <metric
    name="FlatVMemInsts"
    descr="The average number of FLAT instructions that read from or write to the video memory executed per work item (affected by flow control). Includes FLAT instructions that read from or write to scratch."
    expr=(SQ_INSTS_FLAT-SQ_INSTS_FLAT_LDS_ONLY)/SQ_WAVES
  ></metric>

  # LDSInsts        The average number of LDS read or LDS write instructions executed per work item (affected by flow control).  Excludes FLAT instructions that read from or write to LDS.
  <metric
    name="LDSInsts"
    descr="The average number of LDS read or LDS write instructions executed per work item (affected by flow control).  Excludes FLAT instructions that read from or write to LDS."
    expr=(SQ_INSTS_LDS-SQ_INSTS_FLAT_LDS_ONLY)/SQ_WAVES
  ></metric>

  # FlatLDSInsts    The average number of FLAT instructions that read or write to LDS executed per work item (affected by flow control).
  <metric
    name="FlatLDSInsts"
    descr="The average number of FLAT instructions that read or write to LDS executed per work item (affected by flow control)."
    expr=SQ_INSTS_FLAT_LDS_ONLY/SQ_WAVES
  ></metric>

  # GDSInsts        The average number of GDS read or GDS write instructions executed per work item (affected by flow control).
  <metric
    name="GDSInsts"
    descr="The average number of GDS read or GDS write instructions executed per work item (affected by flow control)."
    expr=SQ_INSTS_GDS/SQ_WAVES
  ></metric>

  # FetchSize       The total kilobytes fetched from the video memory. This is measured with all extra fetches and any cache or memory effects taken into account.
  <metric
    name="FetchSize"
    descr="The total kilobytes fetched from the video memory. This is measured with all extra fetches and any cache or memory effects taken into account."
    expr=FETCH_SIZE
  ></metric>

  # WriteSize       The total kilobytes written to the video memory. This is measured with all extra fetches and any cache or memory effects taken into account.
  <metric
    name="WriteSize"
    descr="The total kilobytes written to the video memory. This is measured with all extra fetches and any cache or memory effects taken into account."
    expr=WRITE_SIZE
  ></metric>

  # MemWrites32B    The total number of effective 32B write transactions to the memory
  <metric
    name="MemWrites32B"
    descr="The total number of effective 32B write transactions to the memory"
    expr=WRITE_REQ_32B
  ></metric>

  # MemUnitStalled  The percentage of GPUTime the memory unit is stalled. Try reducing the number or size of fetches and writes if possible. Value range: 0% (optimal) to 100% (bad).
  <metric
    name="MemUnitStalled"
    descr="The percentage of GPUTime the memory unit is stalled. Try reducing the number or size of fetches and writes if possible. Value range: 0% (optimal) to 100% (bad)."
    expr=100*max(TCP_TCP_TA_DATA_STALL_CYCLES,16)/GRBM_GUI_ACTIVE/SE_NUM
  ></metric>

  # WriteUnitStalled The percentage of GPUTime the Write unit is stalled. Value range: 0% to 100% (bad).
  <metric
    name="WriteUnitStalled"
    descr="The percentage of GPUTime the Write unit is stalled. Value range: 0% to 100% (bad)."
    expr=100*TCC_WRREQ_STALL_max/GRBM_GUI_ACTIVE
  ></metric>

  # ALUStalledByLDS The percentage of GPUTime ALU units are stalled by the LDS input queue being full or the output queue being not ready. If there are LDS bank conflicts, reduce them. Otherwise, try reducing the number of LDS accesses if possible. Value range: 0% (optimal) to 100% (bad).
  <metric
    name="ALUStalledByLDS"
    descr="The percentage of GPUTime ALU units are stalled by the LDS input queue being full or the output queue being not ready. If there are LDS bank conflicts, reduce them. Otherwise, try reducing the number of LDS accesses if possible. Value range: 0% (optimal) to 100% (bad)."
    expr=100*SQ_WAIT_INST_LDS*4/SQ_WAVES/GRBM_GUI_ACTIVE
  ></metric>

  # LDSBankConflict The percentage of GPUTime LDS is stalled by bank conflicts. Value range: 0% (optimal) to 100% (bad).
  <metric
    name="LDSBankConflict"
    descr="The percentage of GPUTime LDS is stalled by bank conflicts. Value range: 0% (optimal) to 100% (bad)."
    expr=100*SQ_LDS_BANK_CONFLICT/GRBM_GUI_ACTIVE/CU_NUM
  ></metric>

  # High level stats
  <metric
    name="VALUBusy"
    descr="The percentage of GPUTime vector ALU instructions are processed. Value range: 0% (bad) to 100% (optimal)."
    expr=100*SQ_ACTIVE_INST_VALU*4/SIMD_NUM/GRBM_GUI_ACTIVE
  ></metric>
  <metric
    name="SALUBusy"
    descr="The percentage of GPUTime scalar ALU instructions are processed. Value range: 0% (bad) to 100% (optimal)."
    expr=100*SQ_INST_CYCLES_SALU*4/SIMD_NUM/GRBM_GUI_ACTIVE
  ></metric>
  <metric
    name="MemUnitBusy"
    descr="The percentage of GPUTime the memory unit is active. The result includes the stall time (MemUnitStalled). This is measured with all extra fetches and writes and any cache or memory effects taken into account. Value range: 0% to 100% (fetch-bound)."
    expr=100*TA_BUSY_max/GRBM_GUI_ACTIVE/SE_NUM
  ></metric>

  # ALU stats
  <metric
    name="VALUUtilization"
    descr="The percentage of active vector ALU threads in a wave. A lower number can mean either more thread divergence in a wave or that the work-group size is not a multiple of 64. Value range: 0% (bad), 100% (ideal - no thread divergence)."
    expr=100*SQ_THREAD_CYCLES_VALU/(SQ_ACTIVE_INST_VALU*MAX_WAVE_SIZE)
  ></metric>
  <metric
    name="ThreadRate"
    descr="Threads paralelsim level, how many threads managed per cycle"
    expr=SQ_ITEMS/SQ_BUSY_CYCLES
  ></metric>
  <metric
    name="WaveRate"
    descr="Waves paralelsim level, how many waves managed per cycle"
    expr=SQ_WAVES/SQ_BUSY_CYCLES
  ></metric>
  <metric
    name="PartialWaveRate"
    descr="Percent of partial waves"
    expr=100*SQ_WAVES_LT_64/SQ_WAVES
  ></metric>
  <metric
    name="VALUInstrRate"
    descr="VALU instructions rate"
    expr=SQ_INSTS_VALU/SQ_BUSY_CYCLES
  ></metric>
  <metric
    name="SALUInstrRate"
    descr="SALU instructions rate"
    expr=SQ_INSTS_SALU/SQ_BUSY_CYCLES
  ></metric>
  <metric
    name="InstrStallsRate"
    descr="Instr Stalls rate"
    expr=SQ_WAIT_INST_ANY/SQC_DCACHE_BUSY_CYCLES
  ></metric>
  <metric
    name="ALUStallsRate"
    descr="ALU busy rate"
    expr=SQ_WAIT_CNT_ANY/SQC_DCACHE_BUSY_CYCLES
  ></metric>

  # Memory instr rates
  <metric
    name="VectMenRdRate"
    descr="Vector memory reads rate"
    expr=SQ_INST_CYCLES_VMEM_RD/SQ_BUSY_CYCLES
  ></metric>
  <metric
    name="VectMemWrRate"
    descr="Vector memory writes rate"
    expr=SQ_INST_CYCLES_VMEM_WR/SQ_BUSY_CYCLES
  ></metric>
  <metric
    name="ScalMemRdRate"
    descr="Scalar memory reads rate"
    expr=SQ_INST_CYCLES_SMEM/SQ_BUSY_CYCLES
  ></metric>

  # Memory subsystem stats
  # ICache and ScalCache(DCache) stats
  <metric
    name="ICacheHit"
    descr="Instruction cache hit-rate"
    expr=SQC_ICACHE_HITS/SQC_ICACHE_REQ
  ></metric>
  <metric
    name="ICacheRate"
    descr="Instruction cache requests rate"
    expr=SQC_ICACHE_REQ/SQC_ICACHE_BUSY_CYCLES
  ></metric>
  <metric
    name="DCacheHit"
    descr="Constant cache hit-rate"
    expr=SQC_DCACHE_HITS/SQC_DCACHE_REQ
  ></metric>
  <metric
    name="DcacheRate"
    descr="Constant cache requests rate"
    expr=SQC_DCACHE_REQ/SQC_DCACHE_BUSY_CYCLES
  ></metric>

  # L1/L2 caches stats
  <metric
    name="L1CacheHit"
    descr="L1 TCP cache hit-rate"
    expr=1-((sum(TCP_TCC_READ_REQ,16)+sum(TCP_TCC_WRITE_REQ,16))/sum(TCP_TOTAL_CACHE_ACCESSES,16))
  ></metric>
  <metric
    name="L1CacheBW"
    descr="L1 TCP cache bandwidth"
    expr=sum(TCP_TOTAL_CACHE_ACCESSES,16)*64/TA_BUSY_avr
  ></metric>
  <metric
    name="L2CacheHit"
    descr="L2 cache hit-rate"
    expr=TCC_HIT_sum/(TCC_HIT_sum+TCC_MISS_sum)
  ></metric>
  <metric
    name="L2CacheBW"
    descr="L2 TCC cache bandwidth"
    expr=(TCC_HIT_sum+TCC_MISS_sum)*64/TCC_BUSY_avr
  ></metric>
  <metric
    name="L2ChanEfficiency"
    descr="L2 TCC channel efficiency"
    expr=TCC_REQ_sum/TCC_BUSY_avr
  ></metric>

  # Memory latencies
  <metric
    name="L1Wavelatency"
    descr="L1 TCP wave start/end latency"
    expr=sum(TCP_TCP_LATENCY,16)/sum(TCP_TA_TCP_STATE_READ,16)
  ></metric>
  <metric
    name="L1ToL2RdLatency"
    descr="L1 to L2 (TCP to TCC) read latency"
    expr=sum(TCP_TCC_READ_REQ_LATENCY,16)/sum(TCP_TCC_READ_REQ,16)
  ></metric>
  #<metric
  #  name="L2ToDRAMRdLatency"
  #  descr="L2 TCC issued memory read requests latency"
  #  expr=sum(TCC_EA_RDREQ_LEVEL,16)/sum(TCC_EA_RDREQ_sum)
  #></metric>
  #<metric
  #  name="L2ToDRAMWrLatency"
  #  descr="L2 TCC issued memory write requests latency"
  #  expr=sum(TCC_EA_WRREQ_LEVEL,16)/sum(TCC_EA_WRREQ_sum)
  #></metric>

  # DRAM bandwidth
  <metric
    name="DramRdBW"
    descr="DRAM read bandwidth"
    expr=FETCH_SIZE/TCC_BUSY_avr
  ></metric>
  <metric
    name="DramWrBW"
    descr="DRAM write bandwidth"
    expr=WRITE_SIZE/TCC_BUSY_avr
  ></metric>

</global>
